<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><link rel="canonical" href="https://noeppi-noeppi.github.io/Crocus/advanced/configuration-format.html"><link rel=prev href=architecture.html><link rel=next href=io-mode.html><link rel=icon href=../assets/images/favicon.png><meta name=generator content="mkdocs-1.6.1, mkdocs-material-9.7.1"><title>Configuration Reference - Crocus Documentation</title><link rel=stylesheet href=../assets/stylesheets/main.484c7ddc.min.css><link rel=stylesheet href=../assets/stylesheets/palette.ab4e12ef.min.css><link rel="stylesheet" href="../assets/external/fonts.googleapis.com/css.49ea35f2.css"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#configuration-reference class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class="md-header md-header--shadow" data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../index.html title="Crocus Documentation" class="md-header__button md-logo" aria-label="Crocus Documentation" data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> Crocus Documentation </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Configuration Reference </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media=(prefers-color-scheme) data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo aria-label="Switch to light mode" type=radio name=__palette id=__palette_0> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m14.3 16-.7-2h-3.2l-.7 2H7.8L11 7h2l3.2 9zM20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12zm-9.15 3.96h2.3L12 9z"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo aria-label="Switch to dark mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_2 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme=slate data-md-color-primary=indigo data-md-color-accent=indigo aria-label="Switch to system preference" type=radio name=__palette id=__palette_2> <label class="md-header__button md-icon" title="Switch to system preference" for=__palette_0 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg> </label> </form> <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </label> <nav class=md-search__options aria-label=Search> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg> </button> </nav> </form> <div class=md-search__output> <div class=md-search__scrollwrap tabindex=0 data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href="https://github.com/noeppi-noeppi/Crocus" title="Go to repository" class="md-source" data-md-component="source"> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg> </div> <div class=md-source__repository> noeppi-noeppi/Crocus </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../index.html title="Crocus Documentation" class="md-nav__button md-logo" aria-label="Crocus Documentation" data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg> </a> Crocus Documentation </label> <div class=md-nav__source> <a href="https://github.com/noeppi-noeppi/Crocus" title="Go to repository" class="md-source" data-md-component="source"> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg> </div> <div class=md-source__repository> noeppi-noeppi/Crocus </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../index.html class=md-nav__link> <span class=md-ellipsis> Home </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2> <label class=md-nav__link for=__nav_2 id=__nav_2_label tabindex=0> <span class=md-ellipsis> Getting Started </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> Getting Started </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../getting-started/install.html class=md-nav__link> <span class=md-ellipsis> Installing Crocus </span> </a> </li> <li class=md-nav__item> <a href=../getting-started/configuration.html class=md-nav__link> <span class=md-ellipsis> Configuring Crocus </span> </a> </li> <li class=md-nav__item> <a href=../getting-started/run.html class=md-nav__link> <span class=md-ellipsis> Running Crocus </span> </a> </li> <li class=md-nav__item> <a href=../getting-started/secrets.html class=md-nav__link> <span class=md-ellipsis> Providing Secrets </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3 checked> <label class=md-nav__link for=__nav_3 id=__nav_3_label tabindex=0> <span class=md-ellipsis> Advanced Topics </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_3_label aria-expanded=true> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> Advanced Topics </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=architecture.html class=md-nav__link> <span class=md-ellipsis> Crocus Architecture </span> </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> <span class=md-ellipsis> Configuration Reference </span> <span class="md-nav__icon md-icon"></span> </label> <a href=configuration-format.html class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> Configuration Reference </span> </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#service-identifiers class=md-nav__link> <span class=md-ellipsis> Service identifiers </span> </a> </li> <li class=md-nav__item> <a href=#the-calendars-block class=md-nav__link> <span class=md-ellipsis> The calendars block </span> </a> </li> <li class=md-nav__item> <a href=#the-sources-block class=md-nav__link> <span class=md-ellipsis> The sources block </span> </a> </li> <li class=md-nav__item> <a href=#globals-secrets class=md-nav__link> <span class=md-ellipsis> Globals &amp; Secrets </span> </a> </li> <li class=md-nav__item> <a href=#automatic-type-conversations class=md-nav__link> <span class=md-ellipsis> Automatic type conversations </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=io-mode.html class=md-nav__link> <span class=md-ellipsis> IO Mode </span> </a> </li> <li class=md-nav__item> <a href=sesquiannual.html class=md-nav__link> <span class=md-ellipsis> Sesquiannual (iCal library) </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4> <label class=md-nav__link for=__nav_4 id=__nav_4_label tabindex=0> <span class=md-ellipsis> Plugins </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_4_label aria-expanded=false> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> Plugins </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../plugins/core.html class=md-nav__link> <span class=md-ellipsis> Core </span> </a> </li> <li class=md-nav__item> <a href=../plugins/anniversary.html class=md-nav__link> <span class=md-ellipsis> Anniversary </span> </a> </li> <li class=md-nav__item> <a href=../plugins/filter.html class=md-nav__link> <span class=md-ellipsis> Filter </span> </a> </li> <li class=md-nav__item> <a href=../plugins/frab.html class=md-nav__link> <span class=md-ellipsis> Frab </span> </a> </li> <li class=md-nav__item> <a href=../plugins/google.html class=md-nav__link> <span class=md-ellipsis> Google </span> </a> </li> <li class=md-nav__item> <a href=../plugins/ical.html class=md-nav__link> <span class=md-ellipsis> iCalendar </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5> <label class=md-nav__link for=__nav_5 id=__nav_5_label tabindex=0> <span class=md-ellipsis> Plugin Development </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_5_label aria-expanded=false> <label class=md-nav__title for=__nav_5> <span class="md-nav__icon md-icon"></span> Plugin Development </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../development/plugin-loading.html class=md-nav__link> <span class=md-ellipsis> Plugin Loading </span> </a> </li> <li class=md-nav__item> <a href=../development/configuration.html class=md-nav__link> <span class=md-ellipsis> Service Configuration </span> </a> </li> <li class=md-nav__item> <a href=../development/bundling.html class=md-nav__link> <span class=md-ellipsis> Plugin Bundling </span> </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#service-identifiers class=md-nav__link> <span class=md-ellipsis> Service identifiers </span> </a> </li> <li class=md-nav__item> <a href=#the-calendars-block class=md-nav__link> <span class=md-ellipsis> The calendars block </span> </a> </li> <li class=md-nav__item> <a href=#the-sources-block class=md-nav__link> <span class=md-ellipsis> The sources block </span> </a> </li> <li class=md-nav__item> <a href=#globals-secrets class=md-nav__link> <span class=md-ellipsis> Globals &amp; Secrets </span> </a> </li> <li class=md-nav__item> <a href=#automatic-type-conversations class=md-nav__link> <span class=md-ellipsis> Automatic type conversations </span> </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <h1 id=configuration-reference>Configuration Reference</h1> <p>This page provides a detailed explanation of the system configuration file, <code>config.groovy</code>. It is an ordinary Groovy script that is executed in a specific context to generate a set of calendars and event sources. This means that all regular Groovy features can be used in the configuration file. However, in most cases, it won't be necessary to use any complex Groovy features, and the file resembles an ordinary, expressive configuration file. Nevertheless, you have the full power of Groovy at your disposal when required.</p> <h2 id=service-identifiers>Service identifiers</h2> <p>A <em>service identifier</em> is a string that identifies a service type, such as a <em>calendar type</em>, <em>event source type</em>, or <em>event filter type</em>. Each service type has a unique name inside the plugin that provides the service.</p> <p>A service identifier can take one of two forms:</p> <ul> <li>An <em>unqualified service identifier</em> is simply the name of a service. This name must be unique across all loaded plugins.</li> <li>A <em>qualified service identifier</em> consists of a plugin name followed by a colon (<code>:</code>) and a service name. This type of service identifier always uniquely references a service.</li> </ul> <p>For example, the <code>simple</code> filter from the <a href=../plugins/filter.html>filter plugin</a> can be referenced as <code>tuxtown.crocus.filter:simple</code> or, if no other event filter of name <code>simple</code> exists in another plugin, just as <code>simple</code>.</p> <h2 id=the-calendars-block>The <code>calendars</code> block</h2> <p>The <code>calendars</code> block defines calendars that Crocus can synchronize events into. Calendars can be added like this: <div class=highlight><pre><span></span><code><span class=n>calendars</span><span class=w> </span><span class=o>{</span>
<span class=w>    </span><span class=n>add</span><span class=o>(</span><span class=s1>&#39;tuxtown.crocus.google:google&#39;</span><span class=o>,</span><span class=w> </span><span class=s1>&#39;mycalendar&#39;</span><span class=o>)</span><span class=w> </span><span class=o>{</span>
<span class=w>        </span><span class=c1>// Calendar configuration</span>
<span class=w>    </span><span class=o>}</span>
<span class=o>}</span>
</code></pre></div> The first argument of the <code>add</code> function is a <a href=#service-identifiers>service identifier</a>, the second argument is the calendars name. The nested calendar configuration block is used for service specific configuration. See the <a href=../plugins/core.html>Plugins section</a> for details on the configuration options for different calendar types.</p> <p>There is also a shorthand syntax. If the calendar type can be expressed as an <em>unqualified service identifier</em>, a calendar can also be added like this: <div class=highlight><pre><span></span><code><span class=n>calendars</span><span class=w> </span><span class=o>{</span>
<span class=w>    </span><span class=n>google</span><span class=o>(</span><span class=s1>&#39;mycalendar&#39;</span><span class=o>)</span><span class=w> </span><span class=o>{</span>
<span class=w>        </span><span class=c1>// Calendar configuration</span>
<span class=w>    </span><span class=o>}</span>
<span class=o>}</span>
</code></pre></div> In this case, the function name is the service identifier for the calendar type.</p> <h2 id=the-sources-block>The <code>sources</code> block</h2> <p>The <code>sources</code> block defines event sources that Crocus can fetch events from. As with the <code>calendars</code> block, there are two options of adding an event source. Calendars can be added like this: <div class=highlight><pre><span></span><code><span class=n>sources</span><span class=w> </span><span class=o>{</span>
<span class=w>    </span><span class=n>add</span><span class=o>(</span><span class=s1>&#39;tuxtown.crocus.ical:ical&#39;</span><span class=o>,</span><span class=w> </span><span class=s1>&#39;mysource1&#39;</span><span class=o>)</span><span class=w> </span><span class=o>{</span>
<span class=w>        </span><span class=c1>// Event source configuration</span>
<span class=w>    </span><span class=o>}</span>
<span class=w>    </span><span class=n>ical</span><span class=o>(</span><span class=s1>&#39;mysource2&#39;</span><span class=o>)</span><span class=w> </span><span class=o>{</span>
<span class=w>        </span><span class=c1>// Event source configuration</span>
<span class=w>    </span><span class=o>}</span>
<span class=o>}</span>
</code></pre></div> The latter approach only works for <em>unqualified service identifiers</em>.</p> <p>Contrary to calendars the event source specific configuration does not go directly into the nested configuration block. Instead, the following functions are defined there:</p> <ul> <li>The <code>into</code> function takes the name of a calendar as argument and specifies that events from th event source shall be placed in that calendar. Example: <div class=highlight><pre><span></span><code><span class=n>add</span><span class=o>(</span><span class=s1>&#39;tuxtown.crocus.ical:ical&#39;</span><span class=o>,</span><span class=w> </span><span class=s1>&#39;mysource&#39;</span><span class=o>)</span><span class=w> </span><span class=o>{</span>
<span class=w>    </span><span class=n>into</span><span class=w> </span><span class=s1>&#39;mycalendar&#39;</span>
<span class=o>}</span>
</code></pre></div></li> <li>The <code>configure</code> function takes a configuration block with the configuration specific to the event source type. See the <a href=../plugins/core.html>Plugins section</a> for details on the configuration options for different event source types. Example: <div class=highlight><pre><span></span><code><span class=n>add</span><span class=o>(</span><span class=s1>&#39;tuxtown.crocus.ical:ical&#39;</span><span class=o>,</span><span class=w> </span><span class=s1>&#39;mysource&#39;</span><span class=o>)</span><span class=w> </span><span class=o>{</span>
<span class=w>    </span><span class=n>configure</span><span class=w> </span><span class=o>{</span>
<span class=w>        </span><span class=c1>// Configuration options specific to the type of event source</span>
<span class=w>    </span><span class=o>}</span>
<span class=o>}</span>
</code></pre></div></li> <li>The <code>filter</code> function takes an argument that is a service identifier of an event filter and adds that filter to the filter chain for this event source. Example: <div class=highlight><pre><span></span><code><span class=n>add</span><span class=o>(</span><span class=s1>&#39;tuxtown.crocus.ical:ical&#39;</span><span class=o>,</span><span class=w> </span><span class=s1>&#39;mysource&#39;</span><span class=o>)</span><span class=w> </span><span class=o>{</span>
<span class=w>    </span><span class=n>filter</span><span class=o>(</span><span class=s1>&#39;tuxtown.crocus.filter:simple&#39;</span><span class=o>)</span><span class=w> </span><span class=o>{</span>
<span class=w>        </span><span class=c1>// Configuration options specific to the event filter</span>
<span class=w>    </span><span class=o>}</span>
<span class=o>}</span>
</code></pre></div></li> </ul> <h2 id=globals-secrets>Globals &amp; Secrets</h2> <p>Crocus defines two more global symbols in the configuration file: The <code>secrets</code> object provides access to secrets as explained in <a href=../getting-started/secrets.html>Providing Secrets</a>. The <code>globals</code> object holds some global utility functions, namely:</p> <ul> <li><code>globals.systemTime</code> is the current system time as a timestamp. It does not include timezone information.</li> <li><code>globals.systemTimezone</code> is the system timezone.</li> <li><code>globals.http</code> allows to configure an HTTP resource. It can be used like this: <div class=highlight><pre><span></span><code><span class=n>globals</span><span class=o>.</span><span class=na>http</span><span class=o>(</span><span class=s2>&quot;https://some.http/url&quot;</span><span class=o>)</span><span class=w> </span><span class=o>{</span>
<span class=w>    </span><span class=c1>// Additional configuration options</span>
<span class=o>}</span>
</code></pre></div> where the *additional configuration options are</li> <li><code>header(name, value)</code> sets a header of the HTTP connection.</li> <li><code>noRedirects()</code> disabled following of HTTP redirects.</li> <li><code>authenticate(host, username, password)</code> adds HTTP basic authentication for a specific host. This function can be called multiple times to set different authentication for different hosts. This is especially useful, if the requested URL redirects to another host.</li> <li><code>trust(certificate)</code> trusts a certificate, where certificate can be a <code>pem</code> or <code>der</code> file in <code>X.509</code> format. If at least one custom certificate is specified, system certificates are ignored.</li> </ul> <p>All globals can also be called without the <code>globals</code>-prefix, however the <code>globals</code> prefix exists for cases in which a name conflicts with a variable or function declared in a lower scope.</p> <h2 id=automatic-type-conversations>Automatic type conversations</h2> <p>Crocus provides a whole range of automatic type conversations. That means, in most cases it's possible to write the value of a type such as <code>Path</code>, <code>URI</code> or <code>ZonedDateTime</code> as a string and let Crocus auto-convert it to the required type. This greatly improves the readability of the configuration file. For an overview over the exact type conversations performed, see the <a href=../development/configuration.html>Service Configuration</a> page.</p> <p>Crocus uses the following date format for converting strings into temporal values: <div class=highlight><pre><span></span><code>yyyy-MM-dd[&quot;T&quot;HH:mm:ss[.nnnnnnnnn][OFFSET[&quot;[&quot;TZID&quot;]&quot;]]]
</code></pre></div> Brackets mark an optional part, text between quotes (<code>"</code>) is treated literally. <code>OFFSET</code> is <code>+HH[:MM]</code>, <code>-HH[:MM]</code>, or <code>Z</code> for <code>UTC</code>. <code>TZID</code> is a timezone identifier such as <code>Europe/London</code>. If time zone information is required but not provided, the system time zone is used.</p> </article> </div> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> Made with <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener"> Material for MkDocs </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"annotate": null, "base": "..", "features": ["content.code.copy", "content.code.annotate"], "search": "../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script> <script src=../assets/javascripts/bundle.79ae519e.min.js></script> </body> </html>